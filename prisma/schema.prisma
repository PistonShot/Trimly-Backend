generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model branch_outlet {
  owner_uid            String?                @db.VarChar(255)
  branch_id            String                 @id @db.VarChar(255)
  customer_transaction customer_transaction[]
  expenses_summary     expenses_summary[]     @ignore
  reservation_info     reservation_info[]
}

model customer_info {
  customer_uid         String                 @id @db.VarChar(255)
  email                String?                @unique @db.VarChar(255)
  phone_no             String?                @db.VarChar(255)
  name                 String?                @db.VarChar(255)
  customer_transaction customer_transaction[]
  reservation_info     reservation_info[]
}

model customer_transaction {
  transaction_id String         @id @db.VarChar(255)
  customer_uid   String?        @db.VarChar(255)
  date           DateTime?      @db.Timestamp(6)
  total_amount   Float?
  service_type   String?        @db.VarChar(255)
  service_amount Float?
  product_detail Json?
  product_amount Float?
  branch_id      String?        @db.VarChar(255)
  customer_info  customer_info? @relation(fields: [customer_uid], references: [customer_uid], onDelete: NoAction, onUpdate: NoAction)
  branch_outlet  branch_outlet? @relation(fields: [branch_id], references: [branch_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_customer_transaction")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model expenses_summary {
  branch_id     String?        @db.VarChar(255)
  type          String?        @db.VarChar(255)
  date          DateTime?      @db.Timestamp(6)
  invoice_id    String?        @db.VarChar(255)
  amount        Float?
  branch_outlet branch_outlet? @relation(fields: [branch_id], references: [branch_id], onDelete: NoAction, onUpdate: NoAction)

  @@ignore
}

model reservation_info {
  reservation_id Int            @id @default(autoincrement())
  customer_uid   String?        @db.VarChar(255)
  reservation    Json
  branch_id      String?        @db.VarChar(255)
  status         String?        @db.VarChar(255)
  barberName     String?        @db.VarChar(255)
  branch_outlet  branch_outlet? @relation(fields: [branch_id], references: [branch_id], onDelete: NoAction, onUpdate: NoAction)
  customer_info  customer_info? @relation(fields: [customer_uid], references: [customer_uid], onDelete: NoAction, onUpdate: NoAction)
}

model branch_staff {
  UID         String  @id @db.Uuid
  Name        String  @db.VarChar(255)
  Status      String  @db.VarChar(255)
  Quote       String? @db.VarChar(255)
  Expertise   String? @db.VarChar(255)
  SocialMedia Json?
}
